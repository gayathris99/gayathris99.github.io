(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"4d23":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",{staticClass:"flex column",attrs:{id:"chatpage"}},[t("q-scroll-area",{ref:"chatScroll",staticStyle:{height:"555px"},attrs:{delay:350}},[e.otherUserDetails.online?e._e():t("q-banner",{staticClass:"text-center bg-grey-4"},[e._v("\n   "+e._s(e.otherUserDetails.name)+" is offline\n  ")]),t("div",{staticClass:"q-pa-md column col justify-end "},e._l(e.messages,(function(e){return t("q-chat-message",{key:e.id,attrs:{text:[e.text],stamp:e.timestamp,sent:"me"==e.from}})})),1)],1),t("q-footer",{attrs:{elevated:""}},[t("q-toolbar",[t("q-form",{staticClass:"full-width",on:{submit:e.sendMessage}},[t("q-input",{attrs:{"bg-color":"white",outlined:"",rounded:"",label:"Message",dense:""},scopedSlots:e._u([{key:"after",fn:function(){return[t("q-btn",{attrs:{type:"submit",color:"white",round:"",dense:"",flat:"",icon:"send"},on:{click:e.sendMessage}})]},proxy:!0}]),model:{value:e.newMessage,callback:function(s){e.newMessage=s},expression:"newMessage"}})],1)],1)],1)],1)},r=[],o=t("ded3"),n=t.n(o),l=t("2f62"),i={data(){return{newMessage:"",objDiv:{}}},methods:n()(n()({},Object(l["b"])("user",["firebaseGetMessages","firebaseStopMessages","firebaseSendMessage","onChatPage"])),{},{scroll(){const e=this.$refs.chatScroll,s=e.getScrollTarget(),t=0;e.setScrollPosition(s.scrollHeight,t)},sendMessage(){this.firebaseSendMessage({message:{text:this.newMessage,from:"me",timestamp:Date.now(),seen:!1},otherUserId:this.$route.params.otherUserId}),this.newMessage="",this.scroll()}}),mounted(){this.firebaseStopMessages(),this.firebaseGetMessages(this.$route.params.otherUserId)},updated(){this.scroll()},computed:n()(n()({},Object(l["d"])("user",["messages","userDetails"])),{},{otherUserDetails(){return this.$store.state.user.users[this.$route.params.otherUserId]}}),destroyed(){this.firebaseStopMessages()}},c=i,d=t("2877"),u=t("9989"),h=t("4983"),g=t("54e1"),f=t("8169"),m=t("7ff0"),p=t("65c6"),b=t("0378"),M=t("27f9"),w=t("9c40"),S=t("eebe"),q=t.n(S),x=Object(d["a"])(c,a,r,!1,null,null,null);s["default"]=x.exports;q()(x,"components",{QPage:u["a"],QScrollArea:h["a"],QBanner:g["a"],QChatMessage:f["a"],QFooter:m["a"],QToolbar:p["a"],QForm:b["a"],QInput:M["a"],QBtn:w["a"]})}}]);